<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>xku6 &#187; apache-spark</title>
	<atom:link href="http://xku6.com/tag/apache-spark/feed/" rel="self" type="application/rss+xml" />
	<link>http://xku6.com</link>
	<description>X to the K to the U to the 6</description>
	<lastBuildDate>Mon, 18 Jul 2016 02:30:29 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.3.17</generator>
	<item>
		<title>Debugging Spark logs with YARN</title>
		<link>http://xku6.com/2015/12/31/debugging-spark-logs-with-yarn/</link>
		<comments>http://xku6.com/2015/12/31/debugging-spark-logs-with-yarn/#comments</comments>
		<pubDate>Wed, 30 Dec 2015 19:07:42 +0000</pubDate>
		<dc:creator><![CDATA[xku6]]></dc:creator>
				<category><![CDATA[Uncategorized]]></category>
		<category><![CDATA[apache-spark]]></category>

		<guid isPermaLink="false">http://xku6.com/?p=84</guid>
		<description><![CDATA[Debugging Spark can be quite painful. The error that you see in your application, or even in your job, might not reflect the underlying problem. Here&#8217;s how I dig into the executor logs to find what (might) be really happening. From the YARN job list, find your job. If it’s no longer running you’ll need [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Debugging Spark can be quite painful. The error that you see in your application, or even in your job, might not reflect the underlying problem. Here&#8217;s how I dig into the executor logs to find what (might) be really happening.</p>
<p>From the YARN job list, find your job. If it’s no longer running you’ll need to go to the History page.</p>
<p><a href="http://xku6.com/wp-content/uploads/2015/12/spark_000.png"><img src="http://xku6.com/wp-content/uploads/2015/12/spark_000-300x126.png" alt="spark_000" width="300" height="126" class="alignnone size-medium wp-image-97" /></a></p>
<p>From here you can navigate to the driver log. There are two here, because the job was retried.</p>
<p><a href="http://xku6.com/wp-content/uploads/2015/12/spark_001.png"><img src="http://xku6.com/wp-content/uploads/2015/12/spark_001-300x147.png" alt="spark_001" width="300" height="147" class="alignnone size-medium wp-image-92" /></a></p>
<p>The driver log records the Spark startup, and will log some of the information that the executors provide. Unfortunately if they crash or become unresponsive they often won&#8217;t report their status &#8211; they&#8217;ll just stop. </p>
<p><a href="http://xku6.com/wp-content/uploads/2015/12/spark_002.png"><img src="http://xku6.com/wp-content/uploads/2015/12/spark_002-300x152.png" alt="spark_002" width="300" height="152" class="alignnone size-medium wp-image-93" /></a></p>
<p>The driver log will tell you which executor exited, which is a nice way of saying that it failed. You will have to trawl the driver log a little to find these; there will probably be multiple per job. You now know the name of the container that failed.</p>
<p><a href="http://xku6.com/wp-content/uploads/2015/12/spark_003.png"><img src="http://xku6.com/wp-content/uploads/2015/12/spark_003-300x70.png" alt="spark_003" width="300" height="70" class="alignnone size-medium wp-image-94" /></a></p>
<p>Now search the driver log for the launch details for the problem container (just do a CTRL+C, CTRL+F in Chrome). Each executor has a “YARN executor launch context” block like the below. </p>
<p><a href="http://xku6.com/wp-content/uploads/2015/12/spark_005_stderr_log.png"><img src="http://xku6.com/wp-content/uploads/2015/12/spark_005_stderr_log-300x142.png" alt="spark_005_stderr_log" width="300" height="142" class="alignnone size-medium wp-image-96" /></a></p>
<p>If you browse to the SPARK_LOG_URL_STDERR path you will see the detailed log for that container / executor, wherein you will (hopefully) see a more detailed description of what went wrong. At least you should be able to identify the root &#8216;Caused by&#8217; exception, and Google from there.</p>
]]></content:encoded>
			<wfw:commentRss>http://xku6.com/2015/12/31/debugging-spark-logs-with-yarn/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
	</channel>
</rss>
